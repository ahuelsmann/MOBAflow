<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!--  Track Graphics - Modern SVG-based symbols  -->

    <!--  Track Straight (Horizontal) - TrackPlanStrokeBrush: Light=dunkel, Dark=hell  -->
    <DataTemplate x:Key="TrackStraightTemplate">
        <Canvas Width="60" Height="60">
            <!--  Rails  -->
            <Rectangle
                Canvas.Left="5"
                Canvas.Top="20"
                Width="50"
                Height="3"
                Fill="{ThemeResource TrackPlanStrokeBrush}"
                RadiusX="1"
                RadiusY="1" />
            <Rectangle
                Canvas.Left="5"
                Canvas.Top="37"
                Width="50"
                Height="3"
                Fill="{ThemeResource TrackPlanStrokeBrush}"
                RadiusX="1"
                RadiusY="1" />

            <!--  Sleepers (Schwellen)  -->
            <Rectangle
                Canvas.Left="10"
                Canvas.Top="18"
                Width="2"
                Height="24"
                Fill="{ThemeResource TextFillColorTertiaryBrush}"
                Opacity="0.8" />
            <Rectangle
                Canvas.Left="20"
                Canvas.Top="18"
                Width="2"
                Height="24"
                Fill="{ThemeResource TextFillColorTertiaryBrush}"
                Opacity="0.8" />
            <Rectangle
                Canvas.Left="30"
                Canvas.Top="18"
                Width="2"
                Height="24"
                Fill="{ThemeResource TextFillColorTertiaryBrush}"
                Opacity="0.8" />
            <Rectangle
                Canvas.Left="40"
                Canvas.Top="18"
                Width="2"
                Height="24"
                Fill="{ThemeResource TextFillColorTertiaryBrush}"
                Opacity="0.8" />
            <Rectangle
                Canvas.Left="50"
                Canvas.Top="18"
                Width="2"
                Height="24"
                Fill="{ThemeResource TextFillColorTertiaryBrush}"
                Opacity="0.8" />
        </Canvas>
    </DataTemplate>

    <!--  Track Curve 45°  -->
    <DataTemplate x:Key="TrackCurve45Template">
        <Canvas Width="60" Height="60">
            <Path
                Data="M 5,55 Q 30,30 55,5"
                Stroke="{ThemeResource TrackPlanStrokeBrush}"
                StrokeEndLineCap="Round"
                StrokeStartLineCap="Round"
                StrokeThickness="3" />
            <Path
                Data="M 10,55 Q 30,35 55,10"
                Stroke="{ThemeResource TrackPlanStrokeBrush}"
                StrokeEndLineCap="Round"
                StrokeStartLineCap="Round"
                StrokeThickness="3" />
        </Canvas>
    </DataTemplate>

    <!--  Track Curve 90°  -->
    <DataTemplate x:Key="TrackCurve90Template">
        <Canvas Width="60" Height="60">
            <Path
                Data="M 5,55 Q 5,5 55,5"
                Stroke="{ThemeResource TrackPlanStrokeBrush}"
                StrokeEndLineCap="Round"
                StrokeStartLineCap="Round"
                StrokeThickness="3" />
            <Path
                Data="M 10,55 Q 10,10 55,10"
                Stroke="{ThemeResource TrackPlanStrokeBrush}"
                StrokeEndLineCap="Round"
                StrokeStartLineCap="Round"
                StrokeThickness="3" />
        </Canvas>
    </DataTemplate>

    <!--  Track End (Prellbock / Buffer Stop)  -->
    <DataTemplate x:Key="TrackEndTemplate">
        <Canvas Width="60" Height="60">
            <!--  Rails  -->
            <Rectangle
                Canvas.Left="5"
                Canvas.Top="20"
                Width="30"
                Height="3"
                Fill="{ThemeResource TrackPlanStrokeBrush}" />
            <Rectangle
                Canvas.Left="5"
                Canvas.Top="37"
                Width="30"
                Height="3"
                Fill="{ThemeResource TrackPlanStrokeBrush}" />

            <!--  Buffer (Prellbock)  -->
            <Rectangle
                Canvas.Left="35"
                Canvas.Top="15"
                Width="5"
                Height="30"
                Fill="#D32F2F"
                RadiusX="2"
                RadiusY="2" />
            <Rectangle
                Canvas.Left="40"
                Canvas.Top="18"
                Width="3"
                Height="24"
                Fill="#FFEB3B"
                Opacity="0.8" />
        </Canvas>
    </DataTemplate>

    <!--  Switch Left (Weiche Links)  -->
    <DataTemplate x:Key="SwitchLeftTemplate">
        <Canvas Width="60" Height="60">
            <!--  Main track  -->
            <Path
                Data="M 5,30 L 55,30"
                Stroke="{ThemeResource TrackPlanStrokeBrush}"
                StrokeThickness="3" />
            <Path
                Data="M 5,35 L 55,35"
                Stroke="{ThemeResource TrackPlanStrokeBrush}"
                StrokeThickness="3" />

            <!--  Diverging track  -->
            <Path
                Data="M 30,30 L 55,10"
                Stroke="#00C800"
                StrokeDashArray="2,2"
                StrokeThickness="2" />

            <!--  Switch blade  -->
            <Path
                Data="M 30,30 L 40,22"
                Stroke="#FFD700"
                StrokeThickness="2" />
        </Canvas>
    </DataTemplate>

    <!--  Switch Right (Weiche Rechts)  -->
    <DataTemplate x:Key="SwitchRightTemplate">
        <Canvas Width="60" Height="60">
            <!--  Main track  -->
            <Path
                Data="M 5,30 L 55,30"
                Stroke="{ThemeResource TrackPlanStrokeBrush}"
                StrokeThickness="3" />
            <Path
                Data="M 5,35 L 55,35"
                Stroke="{ThemeResource TrackPlanStrokeBrush}"
                StrokeThickness="3" />

            <!--  Diverging track  -->
            <Path
                Data="M 30,30 L 55,50"
                Stroke="#00C800"
                StrokeDashArray="2,2"
                StrokeThickness="2" />

            <!--  Switch blade  -->
            <Path
                Data="M 30,30 L 40,38"
                Stroke="#FFD700"
                StrokeThickness="2" />
        </Canvas>
    </DataTemplate>

    <!--  Double Crossover (DKW)  -->
    <DataTemplate x:Key="SwitchDoubleTemplate">
        <Canvas Width="60" Height="60">
            <!--  Main tracks  -->
            <Path
                Data="M 5,20 L 55,20"
                Stroke="{ThemeResource TrackPlanStrokeBrush}"
                StrokeThickness="2" />
            <Path
                Data="M 5,40 L 55,40"
                Stroke="{ThemeResource TrackPlanStrokeBrush}"
                StrokeThickness="2" />

            <!--  Cross connections  -->
            <Path
                Data="M 10,20 L 50,40"
                Stroke="#00C800"
                StrokeDashArray="2,2"
                StrokeThickness="2" />
            <Path
                Data="M 10,40 L 50,20"
                Stroke="#00C800"
                StrokeDashArray="2,2"
                StrokeThickness="2" />
        </Canvas>
    </DataTemplate>

    <!--  Diamond Crossing (Kreuzung)  -->
    <DataTemplate x:Key="SwitchCrossingTemplate">
        <Canvas Width="60" Height="60">
            <!--  Horizontal track  -->
            <Path
                Data="M 5,30 L 55,30"
                Stroke="{ThemeResource TrackPlanStrokeBrush}"
                StrokeThickness="3" />

            <!--  Vertical track  -->
            <Path
                Data="M 30,5 L 30,55"
                Stroke="{ThemeResource TrackPlanStrokeBrush}"
                StrokeThickness="3" />

            <!--  Crossing indicator  -->
            <Ellipse
                Canvas.Left="25"
                Canvas.Top="25"
                Width="10"
                Height="10"
                Fill="#FFD700"
                Opacity="0.6" />
        </Canvas>
    </DataTemplate>

    <!--  Platform (Bahnsteig)  -->
    <DataTemplate x:Key="PlatformTemplate">
        <Canvas Width="60" Height="60">
            <!--  Track  -->
            <Rectangle
                Canvas.Left="5"
                Canvas.Top="28"
                Width="50"
                Height="4"
                Fill="{ThemeResource TrackPlanStrokeBrush}" />

            <!--  Platform edge  -->
            <Rectangle
                Canvas.Left="5"
                Canvas.Top="10"
                Width="50"
                Height="15"
                Fill="{ThemeResource ControlFillColorSecondaryBrush}"
                RadiusX="2"
                RadiusY="2"
                Stroke="{ThemeResource CardStrokeColorDefaultBrush}"
                StrokeThickness="1" />

            <!--  Platform markers  -->
            <Rectangle
                Canvas.Left="10"
                Canvas.Top="13"
                Width="2"
                Height="9"
                Fill="#FFEB3B" />
            <Rectangle
                Canvas.Left="28"
                Canvas.Top="13"
                Width="2"
                Height="9"
                Fill="#FFEB3B" />
            <Rectangle
                Canvas.Left="46"
                Canvas.Top="13"
                Width="2"
                Height="9"
                Fill="#FFEB3B" />
        </Canvas>
    </DataTemplate>

    <!--  Feedback point  -->
    <DataTemplate x:Key="FeedbackPointTemplate">
        <Canvas Width="60" Height="60">
            <!--  Sensor housing  -->
            <Rectangle
                Canvas.Left="20"
                Canvas.Top="20"
                Width="20"
                Height="20"
                Fill="#455A64"
                RadiusX="3"
                RadiusY="3"
                Stroke="#263238"
                StrokeThickness="1" />

            <!--  LED indicator  -->
            <Ellipse
                Canvas.Left="26"
                Canvas.Top="26"
                Width="8"
                Height="8"
                Fill="#4CAF50" />

            <!--  Label  -->
            <TextBlock
                Canvas.Left="15"
                Canvas.Top="42"
                FontSize="8"
                Foreground="{ThemeResource TextFillColorTertiaryBrush}"
                Text="FM" />
        </Canvas>
    </DataTemplate>
</ResourceDictionary>
