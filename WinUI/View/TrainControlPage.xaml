<Page
    x:Class="Moba.WinUI.View.TrainControlPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:Moba.WinUI.Controls"
    xmlns:converter="using:Moba.WinUI.Converter"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    DataContext="{x:Bind ViewModel}"
    mc:Ignorable="d">

    <Page.Resources>
        <converter:BoolToBacklightBrushConverter x:Key="BacklightConverter" />
        <converter:IntToPresetCheckedConverter x:Key="IntToPresetCheckedConverter" />
    </Page.Resources>

    <Grid Padding="32,24">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!--  Page Header  -->
        <Grid Grid.Row="0" Margin="0,0,0,24">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <TextBlock
                Grid.Column="0"
                VerticalAlignment="Center"
                FontSize="28"
                FontWeight="SemiBold"
                Text="Train Control" />
            <Button
                Grid.Column="2"
                Width="275"
                Height="48"
                Padding="24,0"
                Background="#E81123"
                Command="{x:Bind ViewModel.EmergencyStopCommand}"
                CornerRadius="8">
                <StackPanel Orientation="Horizontal" Spacing="12">
                    <FontIcon
                        FontSize="20"
                        Foreground="White"
                        Glyph="&#xE711;" />
                    <TextBlock
                        VerticalAlignment="Center"
                        FontSize="16"
                        FontWeight="Bold"
                        Foreground="White"
                        Text="EMERGENCY STOP" />
                </StackPanel>
            </Button>
        </Grid>

        <!--  Main Content: 4 Columns - Left Panel | Speedometer | Functions  -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <!--  LEFT PANEL: Locomotive Settings  -->
            <Border
                Grid.Column="0"
                Margin="0,0,8,0"
                Padding="12,12,4,12"
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="8">
                <ScrollViewer Padding="0,0,12,0" VerticalScrollBarVisibility="Auto">
                    <StackPanel Spacing="20">
                        <!--  Header  -->
                        <StackPanel Spacing="2">
                            <TextBlock
                                FontSize="16"
                                FontWeight="SemiBold"
                                Text="Locomotive" />
                            <TextBlock
                                FontSize="11"
                                Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                Text="Select preset and control" />
                        </StackPanel>

                        <!--  Locomotive Presets - Compact table layout  -->
                        <StackPanel Spacing="8">
                            <TextBlock
                                FontSize="11"
                                FontWeight="SemiBold"
                                Foreground="{ThemeResource TextFillColorTertiaryBrush}"
                                Text="LOCOMOTIVE PRESET" />
                            <!--  Preset 1  -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="70" />
                                </Grid.ColumnDefinitions>
                                <RadioButton
                                    Grid.Column="0"
                                    MinWidth="0"
                                    Padding="0"
                                    VerticalAlignment="Center"
                                    Command="{x:Bind ViewModel.SelectPreset1Command}"
                                    GroupName="LocoPreset"
                                    IsChecked="{x:Bind ViewModel.SelectedPresetIndex, Mode=OneWay, Converter={StaticResource IntToPresetCheckedConverter}, ConverterParameter=0}" />
                                <StackPanel
                                    Grid.Column="1"
                                    Margin="4,0,8,0"
                                    VerticalAlignment="Center"
                                    Orientation="Horizontal"
                                    Spacing="6">
                                    <FontIcon FontSize="14" Glyph="&#xE7C0;" />
                                    <TextBlock FontWeight="SemiBold" Text="Lok 1" />
                                </StackPanel>
                                <NumberBox
                                    Grid.Column="2"
                                    Height="32"
                                    VerticalAlignment="Center"
                                    Maximum="9999"
                                    Minimum="1"
                                    SpinButtonPlacementMode="Compact"
                                    Value="{x:Bind ViewModel.Preset1Address, Mode=TwoWay}" />
                            </Grid>
                            <!--  Preset 2  -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="70" />
                                </Grid.ColumnDefinitions>
                                <RadioButton
                                    Grid.Column="0"
                                    MinWidth="0"
                                    Padding="0"
                                    VerticalAlignment="Center"
                                    Command="{x:Bind ViewModel.SelectPreset2Command}"
                                    GroupName="LocoPreset"
                                    IsChecked="{x:Bind ViewModel.SelectedPresetIndex, Mode=OneWay, Converter={StaticResource IntToPresetCheckedConverter}, ConverterParameter=1}" />
                                <StackPanel
                                    Grid.Column="1"
                                    Margin="4,0,8,0"
                                    VerticalAlignment="Center"
                                    Orientation="Horizontal"
                                    Spacing="6">
                                    <FontIcon FontSize="14" Glyph="&#xE7C0;" />
                                    <TextBlock FontWeight="SemiBold" Text="Lok 2" />
                                </StackPanel>
                                <NumberBox
                                    Grid.Column="2"
                                    Height="32"
                                    VerticalAlignment="Center"
                                    Maximum="9999"
                                    Minimum="1"
                                    SpinButtonPlacementMode="Compact"
                                    Value="{x:Bind ViewModel.Preset2Address, Mode=TwoWay}" />
                            </Grid>
                            <!--  Preset 3  -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="70" />
                                </Grid.ColumnDefinitions>
                                <RadioButton
                                    Grid.Column="0"
                                    MinWidth="0"
                                    Padding="0"
                                    VerticalAlignment="Center"
                                    Command="{x:Bind ViewModel.SelectPreset3Command}"
                                    GroupName="LocoPreset"
                                    IsChecked="{x:Bind ViewModel.SelectedPresetIndex, Mode=OneWay, Converter={StaticResource IntToPresetCheckedConverter}, ConverterParameter=2}" />
                                <StackPanel
                                    Grid.Column="1"
                                    Margin="4,0,8,0"
                                    VerticalAlignment="Center"
                                    Orientation="Horizontal"
                                    Spacing="6">
                                    <FontIcon FontSize="14" Glyph="&#xE7C0;" />
                                    <TextBlock FontWeight="SemiBold" Text="Lok 3" />
                                </StackPanel>
                                <NumberBox
                                    Grid.Column="2"
                                    Height="32"
                                    VerticalAlignment="Center"
                                    Maximum="9999"
                                    Minimum="1"
                                    SpinButtonPlacementMode="Compact"
                                    Value="{x:Bind ViewModel.Preset3Address, Mode=TwoWay}" />
                            </Grid>
                        </StackPanel>

                        <!--  Direction  -->
                        <StackPanel Spacing="6">
                            <TextBlock
                                FontSize="11"
                                FontWeight="SemiBold"
                                Foreground="{ThemeResource TextFillColorTertiaryBrush}"
                                Text="DIRECTION" />
                            <ToggleSwitch
                                IsOn="{x:Bind ViewModel.IsForward, Mode=TwoWay}"
                                OffContent="Backward"
                                OnContent="Forward" />
                        </StackPanel>

                        <!--  Separator  -->
                        <Border
                            Height="1"
                            Margin="0,4"
                            Background="{ThemeResource DividerStrokeColorDefaultBrush}" />

                        <!--  Acceleration Ramp  -->
                        <StackPanel Spacing="6">
                            <TextBlock
                                FontSize="11"
                                FontWeight="SemiBold"
                                Foreground="{ThemeResource TextFillColorTertiaryBrush}"
                                Text="ACCELERATION RAMP" />
                            <ToggleSwitch
                                IsOn="{x:Bind ViewModel.IsRampEnabled, Mode=TwoWay}"
                                OffContent="Instant"
                                OnContent="Gradual" />
                            <Grid ColumnSpacing="8">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>
                                <StackPanel Grid.Row="0" Spacing="4">
                                    <TextBlock
                                        FontSize="10"
                                        Foreground="{ThemeResource TextFillColorTertiaryBrush}"
                                        Text="Step Size" />
                                    <NumberBox
                                        IsEnabled="{x:Bind ViewModel.IsRampEnabled, Mode=OneWay}"
                                        Maximum="20"
                                        Minimum="1"
                                        SmallChange="1"
                                        SpinButtonPlacementMode="Compact"
                                        Value="{x:Bind ViewModel.RampStepSize, Mode=TwoWay}" />
                                </StackPanel>
                                <StackPanel Grid.Row="1" Spacing="4">
                                    <TextBlock
                                        FontSize="10"
                                        Foreground="{ThemeResource TextFillColorTertiaryBrush}"
                                        Text="Interval (ms)" />
                                    <NumberBox
                                        IsEnabled="{x:Bind ViewModel.IsRampEnabled, Mode=OneWay}"
                                        Maximum="500"
                                        Minimum="50"
                                        SmallChange="10"
                                        SpinButtonPlacementMode="Compact"
                                        Value="{x:Bind ViewModel.RampIntervalMs, Mode=TwoWay}" />
                                </StackPanel>
                            </Grid>
                        </StackPanel>

                        <!--  Status  -->
                        <Border
                            Padding="12"
                            Background="{ThemeResource LayerFillColorDefaultBrush}"
                            CornerRadius="6">
                            <StackPanel Spacing="2">
                                <TextBlock
                                    FontSize="10"
                                    FontWeight="SemiBold"
                                    Foreground="{ThemeResource TextFillColorTertiaryBrush}"
                                    Text="STATUS" />
                                <TextBlock
                                    FontSize="12"
                                    Text="{x:Bind ViewModel.StatusMessage, Mode=OneWay}"
                                    TextWrapping="Wrap" />
                            </StackPanel>
                        </Border>

                        <!--  Ramping Indicator  -->
                        <Border
                            Padding="8"
                            Background="{ThemeResource SystemFillColorCautionBackgroundBrush}"
                            CornerRadius="4"
                            Visibility="{x:Bind ViewModel.IsRamping, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <ProgressRing
                                    Width="14"
                                    Height="14"
                                    IsActive="True" />
                                <TextBlock FontSize="11" Text="Ramping..." />
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </Border>

            <!--  CENTER: Speedometer  -->
            <Border
                Grid.Column="1"
                Margin="0"
                Padding="16"
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="8">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <!--  Speedometer  -->
                    <controls:SpeedometerControl
                        Grid.Row="0"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        DisplayValue="{x:Bind ViewModel.ApproximateKmh, Mode=OneWay}"
                        MaxValue="126"
                        MinValue="0"
                        Value="{x:Bind ViewModel.Speed, Mode=OneWay}" />

                    <!--  Slider and Presets  -->
                    <StackPanel Grid.Row="1" Spacing="16">
                        <!--  Horizontal Speed Slider  -->
                        <StackPanel Spacing="8">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <TextBlock
                                    Grid.Column="0"
                                    VerticalAlignment="Center"
                                    FontSize="12"
                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                    Text="0" />
                                <Slider
                                    Grid.Column="1"
                                    Margin="16,0"
                                    Maximum="128"
                                    Minimum="0"
                                    TickFrequency="10"
                                    TickPlacement="BottomRight"
                                    Value="{x:Bind ViewModel.Speed, Mode=TwoWay}" />
                                <TextBlock
                                    Grid.Column="2"
                                    VerticalAlignment="Center"
                                    FontSize="12"
                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                    Text="128" />
                            </Grid>
                        </StackPanel>

                        <!--  Quick Presets  -->
                        <Grid ColumnSpacing="8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Button
                                Grid.Column="0"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Background="#E81123"
                                Command="{x:Bind ViewModel.StopCommand}"
                                CornerRadius="6">
                                <TextBlock
                                    FontWeight="Bold"
                                    Foreground="White"
                                    Text="0" />
                            </Button>
                            <Button
                                Grid.Column="1"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Command="{x:Bind ViewModel.SetSpeedPresetCommand}"
                                CommandParameter="5"
                                CornerRadius="6">
                                <TextBlock Text="5" />
                            </Button>
                            <Button
                                Grid.Column="2"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Command="{x:Bind ViewModel.SetSpeedPresetCommand}"
                                CommandParameter="10"
                                CornerRadius="6">
                                <TextBlock Text="10" />
                            </Button>
                            <Button
                                Grid.Column="3"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Command="{x:Bind ViewModel.SetSpeedPresetCommand}"
                                CommandParameter="15"
                                CornerRadius="6">
                                <TextBlock Text="15" />
                            </Button>
                            <Button
                                Grid.Column="4"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Command="{x:Bind ViewModel.SetSpeedPresetCommand}"
                                CommandParameter="20"
                                CornerRadius="6">
                                <TextBlock Text="20" />
                            </Button>
                            <Button
                                Grid.Column="5"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Command="{x:Bind ViewModel.SetSpeedPresetCommand}"
                                CommandParameter="25"
                                CornerRadius="6">
                                <TextBlock Text="25" />
                            </Button>
                            <Button
                                Grid.Column="6"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Command="{x:Bind ViewModel.SetSpeedPresetCommand}"
                                CommandParameter="30"
                                CornerRadius="6">
                                <TextBlock Text="30" />
                            </Button>
                            <Button
                                Grid.Column="7"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Command="{x:Bind ViewModel.SetSpeedPresetCommand}"
                                CommandParameter="40"
                                CornerRadius="6">
                                <TextBlock Text="40" />
                            </Button>
                            <Button
                                Grid.Column="8"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Command="{x:Bind ViewModel.SetSpeedPresetCommand}"
                                CommandParameter="50"
                                CornerRadius="6">
                                <TextBlock Text="50" />
                            </Button>
                            <Button
                                Grid.Column="9"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Command="{x:Bind ViewModel.SetSpeedPresetCommand}"
                                CommandParameter="60"
                                CornerRadius="6">
                                <TextBlock Text="60" />
                            </Button>
                            <Button
                                Grid.Column="10"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Command="{x:Bind ViewModel.SetSpeedPresetCommand}"
                                CommandParameter="80"
                                CornerRadius="6">
                                <TextBlock Text="80" />
                            </Button>
                            <Button
                                Grid.Column="11"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Command="{x:Bind ViewModel.SetSpeedPresetCommand}"
                                CommandParameter="100"
                                CornerRadius="6">
                                <TextBlock Text="100" />
                            </Button>
                            <Button
                                Grid.Column="12"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Command="{x:Bind ViewModel.SetSpeedPresetCommand}"
                                CommandParameter="120"
                                CornerRadius="6">
                                <TextBlock Text="120" />
                            </Button>
                            <Button
                                Grid.Column="13"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Command="{x:Bind ViewModel.SetSpeedPresetCommand}"
                                CommandParameter="128"
                                CornerRadius="6">
                                <TextBlock
                                    FontWeight="Bold"
                                    Foreground="White"
                                    Text="128" />
                            </Button>
                        </Grid>
                    </StackPanel>
                </Grid>
            </Border>

            <!--  FUNCTIONS PANEL: F0-F20 with Backlit Effect  -->
            <Border
                Grid.Column="2"
                Margin="8,0"
                Padding="8"
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="8">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Spacing="6">
                        <Grid ColumnSpacing="4" RowSpacing="4">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <!--  F0: Light - Yellow  -->
                            <ToggleButton
                                Grid.Row="0"
                                Grid.Column="0"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Background="{x:Bind ViewModel.IsF0On, Mode=OneWay, Converter={StaticResource BacklightConverter}, ConverterParameter=#FFD700}"
                                Command="{x:Bind ViewModel.ToggleF0Command}"
                                CornerRadius="6"
                                IsChecked="{x:Bind ViewModel.IsF0On, Mode=OneWay}"
                                Style="{StaticResource BacklightToggleButtonStyle}">
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <FontIcon FontSize="14" Glyph="&#xE793;" />
                                    <TextBlock
                                        FontSize="12"
                                        FontWeight="SemiBold"
                                        Text="F0" />
                                </StackPanel>
                            </ToggleButton>
                            <!--  F1: Sound - Blue  -->
                            <ToggleButton
                                Grid.Row="0"
                                Grid.Column="1"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Background="{x:Bind ViewModel.IsF1On, Mode=OneWay, Converter={StaticResource BacklightConverter}, ConverterParameter=#0078D4}"
                                Command="{x:Bind ViewModel.ToggleF1Command}"
                                CornerRadius="6"
                                IsChecked="{x:Bind ViewModel.IsF1On, Mode=OneWay}"
                                Style="{StaticResource BacklightToggleButtonStyle}">
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <FontIcon FontSize="14" Glyph="&#xE995;" />
                                    <TextBlock
                                        FontSize="12"
                                        FontWeight="SemiBold"
                                        Text="F1" />
                                </StackPanel>
                            </ToggleButton>
                            <!--  F2: Horn - Orange  -->
                            <ToggleButton
                                Grid.Row="1"
                                Grid.Column="0"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Background="{x:Bind ViewModel.IsF2On, Mode=OneWay, Converter={StaticResource BacklightConverter}, ConverterParameter=#FF8C00}"
                                Command="{x:Bind ViewModel.ToggleF2Command}"
                                CornerRadius="6"
                                IsChecked="{x:Bind ViewModel.IsF2On, Mode=OneWay}"
                                Style="{StaticResource BacklightToggleButtonStyle}">
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <FontIcon FontSize="14" Glyph="&#xE7ED;" />
                                    <TextBlock
                                        FontSize="12"
                                        FontWeight="SemiBold"
                                        Text="F2" />
                                </StackPanel>
                            </ToggleButton>
                            <!--  F3: Door Close - Red  -->
                            <ToggleButton
                                Grid.Row="1"
                                Grid.Column="1"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Background="{x:Bind ViewModel.IsF3On, Mode=OneWay, Converter={StaticResource BacklightConverter}, ConverterParameter=#E81123}"
                                Command="{x:Bind ViewModel.ToggleF3Command}"
                                CornerRadius="6"
                                IsChecked="{x:Bind ViewModel.IsF3On, Mode=OneWay}"
                                Style="{StaticResource BacklightToggleButtonStyle}">
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <FontIcon FontSize="14" Glyph="&#xE7E8;" />
                                    <TextBlock
                                        FontSize="12"
                                        FontWeight="SemiBold"
                                        Text="F3" />
                                </StackPanel>
                            </ToggleButton>
                            <!--  F4: Door Release - Green  -->
                            <ToggleButton
                                Grid.Row="2"
                                Grid.Column="0"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Background="{x:Bind ViewModel.IsF4On, Mode=OneWay, Converter={StaticResource BacklightConverter}, ConverterParameter=#107C10}"
                                Command="{x:Bind ViewModel.ToggleF4Command}"
                                CornerRadius="6"
                                IsChecked="{x:Bind ViewModel.IsF4On, Mode=OneWay}"
                                Style="{StaticResource BacklightToggleButtonStyle}">
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <FontIcon FontSize="14" Glyph="&#xE73E;" />
                                    <TextBlock
                                        FontSize="12"
                                        FontWeight="SemiBold"
                                        Text="F4" />
                                </StackPanel>
                            </ToggleButton>
                            <!--  F5: Shunting Light - Teal  -->
                            <ToggleButton
                                Grid.Row="2"
                                Grid.Column="1"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Background="{x:Bind ViewModel.IsF5On, Mode=OneWay, Converter={StaticResource BacklightConverter}, ConverterParameter=#00B7C3}"
                                Command="{x:Bind ViewModel.ToggleF5Command}"
                                CornerRadius="6"
                                IsChecked="{x:Bind ViewModel.IsF5On, Mode=OneWay}"
                                Style="{StaticResource BacklightToggleButtonStyle}">
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <FontIcon FontSize="14" Glyph="&#xE793;" />
                                    <TextBlock
                                        FontSize="12"
                                        FontWeight="SemiBold"
                                        Text="F5" />
                                </StackPanel>
                            </ToggleButton>
                            <!--  F6: Interior Light - Warm Yellow  -->
                            <ToggleButton
                                Grid.Row="3"
                                Grid.Column="0"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Background="{x:Bind ViewModel.IsF6On, Mode=OneWay, Converter={StaticResource BacklightConverter}, ConverterParameter=#FFB900}"
                                Command="{x:Bind ViewModel.ToggleF6Command}"
                                CornerRadius="6"
                                IsChecked="{x:Bind ViewModel.IsF6On, Mode=OneWay}"
                                Style="{StaticResource BacklightToggleButtonStyle}">
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <FontIcon FontSize="14" Glyph="&#xE7E8;" />
                                    <TextBlock
                                        FontSize="12"
                                        FontWeight="SemiBold"
                                        Text="F6" />
                                </StackPanel>
                            </ToggleButton>
                            <!--  F7: Smoke - Gray  -->
                            <ToggleButton
                                Grid.Row="3"
                                Grid.Column="1"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Background="{x:Bind ViewModel.IsF7On, Mode=OneWay, Converter={StaticResource BacklightConverter}, ConverterParameter=#767676}"
                                Command="{x:Bind ViewModel.ToggleF7Command}"
                                CornerRadius="6"
                                IsChecked="{x:Bind ViewModel.IsF7On, Mode=OneWay}"
                                Style="{StaticResource BacklightToggleButtonStyle}">
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <FontIcon FontSize="14" Glyph="&#xE753;" />
                                    <TextBlock
                                        FontSize="12"
                                        FontWeight="SemiBold"
                                        Text="F7" />
                                </StackPanel>
                            </ToggleButton>
                            <!--  F8: Pantograph - Magenta  -->
                            <ToggleButton
                                Grid.Row="4"
                                Grid.Column="0"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Background="{x:Bind ViewModel.IsF8On, Mode=OneWay, Converter={StaticResource BacklightConverter}, ConverterParameter=#E040FB}"
                                Command="{x:Bind ViewModel.ToggleF8Command}"
                                CornerRadius="6"
                                IsChecked="{x:Bind ViewModel.IsF8On, Mode=OneWay}"
                                Style="{StaticResource BacklightToggleButtonStyle}">
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <FontIcon FontSize="14" Glyph="&#xE945;" />
                                    <TextBlock
                                        FontSize="12"
                                        FontWeight="SemiBold"
                                        Text="F8" />
                                </StackPanel>
                            </ToggleButton>
                            <!--  F9: Purple  -->
                            <ToggleButton
                                Grid.Row="4"
                                Grid.Column="1"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Background="{x:Bind ViewModel.IsF9On, Mode=OneWay, Converter={StaticResource BacklightConverter}, ConverterParameter=#8764B8}"
                                Command="{x:Bind ViewModel.ToggleF9Command}"
                                CornerRadius="6"
                                IsChecked="{x:Bind ViewModel.IsF9On, Mode=OneWay}"
                                Style="{StaticResource BacklightToggleButtonStyle}">
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <FontIcon FontSize="14" Glyph="&#xE734;" />
                                    <TextBlock
                                        FontSize="12"
                                        FontWeight="SemiBold"
                                        Text="F9" />
                                </StackPanel>
                            </ToggleButton>
                            <!--  F10: Lime Green  -->
                            <ToggleButton
                                Grid.Row="5"
                                Grid.Column="0"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Background="{x:Bind ViewModel.IsF10On, Mode=OneWay, Converter={StaticResource BacklightConverter}, ConverterParameter=#00CC6A}"
                                Command="{x:Bind ViewModel.ToggleF10Command}"
                                CornerRadius="6"
                                IsChecked="{x:Bind ViewModel.IsF10On, Mode=OneWay}"
                                Style="{StaticResource BacklightToggleButtonStyle}">
                                <TextBlock
                                    FontSize="12"
                                    FontWeight="SemiBold"
                                    Text="F10" />
                            </ToggleButton>
                            <!--  F11: Teal  -->
                            <ToggleButton
                                Grid.Row="5"
                                Grid.Column="1"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Background="{x:Bind ViewModel.IsF11On, Mode=OneWay, Converter={StaticResource BacklightConverter}, ConverterParameter=#038387}"
                                Command="{x:Bind ViewModel.ToggleF11Command}"
                                CornerRadius="6"
                                IsChecked="{x:Bind ViewModel.IsF11On, Mode=OneWay}"
                                Style="{StaticResource BacklightToggleButtonStyle}">
                                <TextBlock
                                    FontSize="12"
                                    FontWeight="SemiBold"
                                    Text="F11" />
                            </ToggleButton>
                            <!--  F12: Orchid  -->
                            <ToggleButton
                                Grid.Row="6"
                                Grid.Column="0"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Background="{x:Bind ViewModel.IsF12On, Mode=OneWay, Converter={StaticResource BacklightConverter}, ConverterParameter=#C239B3}"
                                Command="{x:Bind ViewModel.ToggleF12Command}"
                                CornerRadius="6"
                                IsChecked="{x:Bind ViewModel.IsF12On, Mode=OneWay}"
                                Style="{StaticResource BacklightToggleButtonStyle}">
                                <TextBlock
                                    FontSize="12"
                                    FontWeight="SemiBold"
                                    Text="F12" />
                            </ToggleButton>
                            <!--  F13: Hot Pink  -->
                            <ToggleButton
                                Grid.Row="6"
                                Grid.Column="1"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Background="{x:Bind ViewModel.IsF13On, Mode=OneWay, Converter={StaticResource BacklightConverter}, ConverterParameter=#FF1493}"
                                Command="{x:Bind ViewModel.ToggleF13Command}"
                                CornerRadius="6"
                                IsChecked="{x:Bind ViewModel.IsF13On, Mode=OneWay}"
                                Style="{StaticResource BacklightToggleButtonStyle}">
                                <TextBlock
                                    FontSize="12"
                                    FontWeight="SemiBold"
                                    Text="F13" />
                            </ToggleButton>
                            <!--  F14: Gray  -->
                            <ToggleButton
                                Grid.Row="7"
                                Grid.Column="0"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Background="{x:Bind ViewModel.IsF14On, Mode=OneWay, Converter={StaticResource BacklightConverter}, ConverterParameter=#7A7574}"
                                Command="{x:Bind ViewModel.ToggleF14Command}"
                                CornerRadius="6"
                                IsChecked="{x:Bind ViewModel.IsF14On, Mode=OneWay}"
                                Style="{StaticResource BacklightToggleButtonStyle}">
                                <TextBlock
                                    FontSize="12"
                                    FontWeight="SemiBold"
                                    Text="F14" />
                            </ToggleButton>
                            <!--  F15: Sage  -->
                            <ToggleButton
                                Grid.Row="7"
                                Grid.Column="1"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Background="{x:Bind ViewModel.IsF15On, Mode=OneWay, Converter={StaticResource BacklightConverter}, ConverterParameter=#567C73}"
                                Command="{x:Bind ViewModel.ToggleF15Command}"
                                CornerRadius="6"
                                IsChecked="{x:Bind ViewModel.IsF15On, Mode=OneWay}"
                                Style="{StaticResource BacklightToggleButtonStyle}">
                                <TextBlock
                                    FontSize="12"
                                    FontWeight="SemiBold"
                                    Text="F15" />
                            </ToggleButton>
                            <!--  F16: Brown  -->
                            <ToggleButton
                                Grid.Row="8"
                                Grid.Column="0"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Background="{x:Bind ViewModel.IsF16On, Mode=OneWay, Converter={StaticResource BacklightConverter}, ConverterParameter=#8E562E}"
                                Command="{x:Bind ViewModel.ToggleF16Command}"
                                CornerRadius="6"
                                IsChecked="{x:Bind ViewModel.IsF16On, Mode=OneWay}"
                                Style="{StaticResource BacklightToggleButtonStyle}">
                                <TextBlock
                                    FontSize="12"
                                    FontWeight="SemiBold"
                                    Text="F16" />
                            </ToggleButton>
                            <!--  F17: Tan  -->
                            <ToggleButton
                                Grid.Row="8"
                                Grid.Column="1"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Background="{x:Bind ViewModel.IsF17On, Mode=OneWay, Converter={StaticResource BacklightConverter}, ConverterParameter=#847545}"
                                Command="{x:Bind ViewModel.ToggleF17Command}"
                                CornerRadius="6"
                                IsChecked="{x:Bind ViewModel.IsF17On, Mode=OneWay}"
                                Style="{StaticResource BacklightToggleButtonStyle}">
                                <TextBlock
                                    FontSize="12"
                                    FontWeight="SemiBold"
                                    Text="F17" />
                            </ToggleButton>
                            <!--  F18: Slate  -->
                            <ToggleButton
                                Grid.Row="9"
                                Grid.Column="0"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Background="{x:Bind ViewModel.IsF18On, Mode=OneWay, Converter={StaticResource BacklightConverter}, ConverterParameter=#525E54}"
                                Command="{x:Bind ViewModel.ToggleF18Command}"
                                CornerRadius="6"
                                IsChecked="{x:Bind ViewModel.IsF18On, Mode=OneWay}"
                                Style="{StaticResource BacklightToggleButtonStyle}">
                                <TextBlock
                                    FontSize="12"
                                    FontWeight="SemiBold"
                                    Text="F18" />
                            </ToggleButton>
                            <!--  F19: Dark Gray  -->
                            <ToggleButton
                                Grid.Row="9"
                                Grid.Column="1"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Background="{x:Bind ViewModel.IsF19On, Mode=OneWay, Converter={StaticResource BacklightConverter}, ConverterParameter=#4A5459}"
                                Command="{x:Bind ViewModel.ToggleF19Command}"
                                CornerRadius="6"
                                IsChecked="{x:Bind ViewModel.IsF19On, Mode=OneWay}"
                                Style="{StaticResource BacklightToggleButtonStyle}">
                                <TextBlock
                                    FontSize="12"
                                    FontWeight="SemiBold"
                                    Text="F19" />
                            </ToggleButton>
                            <!--  F20: Steel Blue (spans both columns)  -->
                            <ToggleButton
                                Grid.Row="10"
                                Grid.Column="0"
                                Grid.ColumnSpan="2"
                                Height="40"
                                HorizontalAlignment="Stretch"
                                Background="{x:Bind ViewModel.IsF20On, Mode=OneWay, Converter={StaticResource BacklightConverter}, ConverterParameter=#69797E}"
                                Command="{x:Bind ViewModel.ToggleF20Command}"
                                CornerRadius="6"
                                IsChecked="{x:Bind ViewModel.IsF20On, Mode=OneWay}"
                                Style="{StaticResource BacklightToggleButtonStyle}">
                                <TextBlock
                                    FontSize="12"
                                    FontWeight="SemiBold"
                                    Text="F20" />
                            </ToggleButton>
                        </Grid>
                    </StackPanel>
                </ScrollViewer>
            </Border>
        </Grid>
    </Grid>
</Page>
