<?xml version='1.0' encoding='utf-8'?>
<manifest xmlns:android='http://schemas.android.com/apk/res/android'>
    <queries>
        <intent>
            <action android:name='android.media.action.IMAGE_CAPTURE' />
        </intent>
    </queries>
    <application android:allowBackup='true' android:icon='@mipmap/appicon' android:supportsRtl='true' android:usesCleartextTraffic='true' android:networkSecurityConfig='@xml/network_security_config'>
        <!-- Z21 Background Service (Foreground Service for maintaining connection) -->
        <service android:name='crc649b5c0d19ef29e1ac.Z21BackgroundService' android:enabled='true' android:exported='false' android:foregroundServiceType='dataSync' />
    </application>
    <!-- Network permissions for Z21 UDP communication + REST-API discovery -->
    <uses-permission android:name='android.permission.INTERNET' />
    <uses-permission android:name='android.permission.ACCESS_NETWORK_STATE' />
    <uses-permission android:name='android.permission.ACCESS_WIFI_STATE' />
    <uses-permission android:name='android.permission.CHANGE_WIFI_MULTICAST_STATE' />
    <!-- Camera permissions for photo capture -->
    <uses-permission android:name='android.permission.CAMERA' />
    <uses-permission android:name='android.permission.READ_MEDIA_IMAGES' />
    <uses-permission android:name='android.permission.READ_EXTERNAL_STORAGE' android:maxSdkVersion='32' />
    <uses-permission android:name='android.permission.WRITE_EXTERNAL_STORAGE' android:maxSdkVersion='28' />
    <!-- Camera feature (optional - app works without camera too) -->
    <uses-feature android:name='android.hardware.camera' android:required='false' />
    <uses-feature android:name='android.hardware.camera.autofocus' android:required='false' />
    <!-- Foreground Service permission (Android 9+) -->
    <uses-permission android:name='android.permission.FOREGROUND_SERVICE' />
    <uses-permission android:name='android.permission.FOREGROUND_SERVICE_DATA_SYNC' />
    <!-- Post Notifications permission (Android 13+) -->
    <uses-permission android:name='android.permission.POST_NOTIFICATIONS' />
    <uses-permission android:name='android.permission.FOREGROUND_SERVICE_CAMERA' />
</manifest>

