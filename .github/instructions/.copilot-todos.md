---
description: 'Minimale TODO-Liste fuer MOBAflow'
applyTo: '**'
---

# MOBAflow TODOs

> Letzte Aktualisierung: 2026-01-22 21:55 Uhr

---

## üéØ QUALITY IMPROVEMENT (Week 1-6)

> **Week 1 Status:** ‚úÖ **ABGESCHLOSSEN** (Common Project: 100% Docs + 100% Tests)
> **Week 2 Status:** üü° **IN PROGRESS**

### Week 1: Common Project ‚úÖ COMPLETE
- ‚úÖ Dokumentation: IPlugin, PluginBase, PluginLoader, PluginDiscoveryService, PluginValidator, Records
- ‚úÖ Unit Tests: 42/42 Tests bestanden (100% Coverage)

### Week 2: Quality Tasks ‚úÖ PHASE 1-2 COMPLETE (VSM + Skin Foundation)

**‚úÖ COMPLETED (2026-01-22):**
- ‚úÖ WorkflowsPage VSM refactoring (3 states: Compact/Medium/Wide)
- ‚úÖ Original Theme created (ApplicationTheme.Original)
- ‚úÖ Layout Enums created (TrainControlLayout, SignalBoxLayout)
- ‚úÖ VSM-COVERAGE.md dokumentiert
- ‚úÖ SKIN-INTEGRATION-ROADMAP.md dokumentiert

**üìå NEXT (Week 2 continued):**
- [ ] Domain-Enums (11 St√ºck) - Member-Dokumentation
- [ ] WorkflowAction.cs - `<param>` Tags
- [ ] Project.cs - Methoden-Dokumentation
- [ ] JourneyTests.cs, StationTests.cs, WorkflowTests.cs
- [ ] TrainTests.cs, ProjectTests.cs, EnumTests.cs
- **Ziel:** 100% Dokumentation + 100% Test Coverage

**üìå OPTIONAL (Week 3+, foundation ready):**
- [ ] TrainControlPage2: Add layout selector (Original, Modern, ESU, M√§rklin)
- [ ] SignalBoxPage2: Add layout selector (Original, Modern, ESU, Z21)
- [ ] TrainControlPage2: RenderAsOriginal() method (copy from TrainControlPage.xaml)
- [ ] SignalBoxPage2: RenderAsOriginal() method (copy from SignalBoxPage.cs)
- [ ] Delete old TrainControlPage.xaml + .xaml.cs
- [ ] Delete old SignalBoxPage.xaml + .cs
- [ ] Update NavigationRegistry (point to Page2)
- **Ziel:** Single "Train Control" + "Signal Box" entries in nav, with layout selector

### Week 3: Backend Services
- [ ] IoService, UdpClientWrapper, SettingsService - vollst√§ndige Docs
- [ ] IoServiceTests, UdpClientWrapperTests, AudioPlayerTests

### Week 4: SharedUI ViewModels
- [ ] Alle `[RelayCommand]` Methoden dokumentieren
- [ ] JourneyViewModel, WorkflowViewModel, TrainControlViewModel - Tests

### Week 5: Sound
- [ ] AudioFilePlayer - vollst√§ndige Dokumentation
- [ ] SpeakerEngineFactoryTests, Integration-Tests

### Week 6: CI/CD
- [ ] Doxygen ausf√ºhren, Warnings fixen
- [ ] Coverage-Report generieren
- [ ] Azure DevOps Pipeline f√ºr Testing

---

## üöß BEKANNTE BUILD-PROBLEME

### WinUI Platform-Konfiguration (niedrige Priorit√§t)
**Problem:** WinUI.csproj Self-Contained Build wirft AnyCPU-Fehler  
**Fix:** In Visual Studio auf **Platform: x64** umstellen  
**Status:** ‚úÖ Code-Fix angewendet

---

## OFFENE AUFGABEN

### KRITISCH

| Aufgabe | Beschreibung | Status |
|---------|--------------|--------|
| Azure Speech Key | `WinUI/appsettings.json` - Key in Env-Variable verschieben | TODO |
| Git History | BFG Repo-Cleaner vor GitHub-Release | TODO |

### HOCH

| Aufgabe | Beschreibung | Status |
|---------|--------------|--------|
| SignalBoxPage Refactoring | SignalBoxPage ist rein C#, kein XAML - groesseres Refactoring noetig | TODO |
| TrainControlPage2: Original Layout | Integrate old TrainControlPage.xaml as "Original" skin | READY (Phase 1-2 done) |
| SignalBoxPage2: Original Layout | Integrate old SignalBoxPage.cs as "Original" skin | READY (Phase 1-2 done) |
| TrainControlPage3 (ESU-Style) | Alternatives Layout: Runder Drehregler, Funktions-Grid | TODO |
| TrainControlPage4 (Maerklin-Style) | Alternatives Layout: Dual-Cab mit 2 analogen Tachometern | TODO |

### MITTEL

| Aufgabe | Beschreibung | Status |
|---------|--------------|--------|
| JourneysPage VSM | List responsive | TODO |
| TrainsPage VSM | List responsive | TODO |
| SettingsPage VSM | Responsive expanders | TODO |
| TrainControlPage2 Theme | DynamicResource fuer Theme-Wechsel implementieren | TODO |
| SignalBoxPage2 Theme | DynamicResource fuer Theme-Wechsel implementieren | TODO |
| Piko A-Gleis PDF | Text aus `99556__A-Gleis_Prospekt_2019.pdf` extrahieren | TODO |

---

## üèóÔ∏è WEEK 2 COMPLETED ARCHITECTURE

### VSM Coverage (VisualStateManager)
‚úÖ TrainControlPage (3 states: 1200px+, 641-1199px, 0-640px)
‚úÖ TrackPlanEditorPage (3 states)
‚úÖ **WorkflowsPage** (3 states: Compact/Medium/Wide) - DONE 2026-01-22

### Theme System (6 Themes)
‚úÖ Modern (Blue accents)
‚úÖ Classic (Green/M√§rklin)
‚úÖ Dark (Purple)
‚úÖ ESU CabControl (Orange/Black)
‚úÖ Roco Z21 (Orange/Black)
‚úÖ M√§rklin CS (Red/Grey)
‚úÖ **Original** (Blue/Light+Dark) - DONE 2026-01-22

### Skin Integration (Foundation Ready)
‚úÖ TrainControlLayout enum (Original, Modern, ESU, M√§rklin)
‚úÖ SignalBoxLayout enum (Original, Modern, ESU, Z21)
üìå TrainControlPage2/SignalBoxPage2 layout selector (next phase)

---

## ABGESCHLOSSEN (Session 2026-01-22)

| Datum | Aufgabe |
|-------|---------|
| 2026-01-22 | WorkflowsPage VSM refactoring - 3 responsive states |
| 2026-01-22 | Original Theme created (ApplicationTheme.Original) |
| 2026-01-22 | TrainControlLayout enum (Original/Modern/ESU/M√§rklin) |
| 2026-01-22 | SignalBoxLayout enum (Original/Modern/ESU/Z21) |
| 2026-01-22 | ThemeResourceBuilder.BuildOriginalTheme() - light+dark colors |
| 2026-01-22 | ThemeProvider updated to handle Original theme |
| 2026-01-22 | VSM-COVERAGE.md documented WorkflowsPage ‚úÖ DONE |
| 2026-01-22 | docs/VSM-COVERAGE.md created (audit all pages) |
| 2026-01-22 | docs/SKIN-INTEGRATION-ROADMAP.md created (6-phase plan) |
| 2026-01-22 | .github/WEEK2-ACTIONITEMS.md created (executive summary) |

---

## REGELN

1. Datei lesen vor Aenderungen
2. Offene Tasks nicht loeschen
3. Erledigte mit Datum markieren
4. VSM: Nur f√ºr XAML Pages, nicht f√ºr Pure C# Pages (SignalBoxPage2, TrainControlPage2)
5. Themes: Unabh√§ngig von Layouts (k√∂nnen kombiniert werden)
6. Skins = Layouts (Original/Modern/ESU/M√§rklin f√ºr TrainControl)

---

**Next Steps (Priority):**
1. Domain Tests (Week 2 requirement)
2. TrainControlPage2/SignalBoxPage2 layout integration (Phase 3)
3. Other Pages VSM audit (JourneysPage, TrainsPage, SettingsPage)
4. Delete old Pages (when Phase 3 complete)

