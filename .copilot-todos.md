# Copilot TODOs

> Diese Datei dokumentiert alle Empfehlungen und Aufgaben, die ich dir gebe.
> Aktualisiere sie, wenn Aufgaben erledigt oder abgelehnt werden.

## Umgesetzt ✅

### Session 2025-12-29
- [x] **Moba.sln.DotSettings gelöscht (Redundant)**
  - Empfohlen: Duplicate ReSharper-Settings-Datei entfernen
  - Grund: Moba.sln.DotSettings war nur ein Pointer auf .sln.DotSettings (keine eigenen Einstellungen)
  - Umgesetzt: Datei gelöscht; .sln.DotSettings bleibt als Single Source of Truth
  - Status: ✅ Abgeschlossen
  - Datum: 29.12.2025

- [x] **XLS0414 XAML Designer-Warnung unterdrückt**
  - Empfohlen: "Constructor must be public"-Warnungen in EntityTemplates.xaml unterdrücken
  - Grund: Design-time DataContext (d:DesignInstance) triggert Designer-Warnung trotz IsDesignTimeCreatable=False
  - Umgesetzt: `dotnet_diagnostic.XLS0414.severity = none` in .editorconfig für *.xaml
  - Status: ✅ Abgeschlossen
  - Datum: 29.12.2025

- [x] **XAML Design-Time DataContext für EntityTemplates**
  - Empfohlen: d:DataContext in allen DataTemplates hinzufügen, um Designer-Warnungen zu entfernen
  - Grund: Designer konnte Bindings nicht auflösen (VMs haben DI-Konstruktoren)
  - Umgesetzt:
    - xmlns:d und xmlns:vm/vmAction Namespaces hinzugefügt
    - d:DataContext mit IsDesignTimeCreatable=False in allen 12 Templates
    - Pattern in copilot-instructions.md dokumentiert
  - Status: ✅ Abgeschlossen
  - Datum: 29.12.2025

- [x] **Test Build UpToDate Warning suppressed**
  - Empfohlen: FastUpToDateCheck für Test.csproj deaktivieren, um Backend.dll Timestamp Drift Warnung zu vermeiden
  - Grund: Parallel-Build führte zu UpToDateCheck-Warnung ohne funktionalen Fehler
  - Umgesetzt: `<DisableFastUpToDateCheck>true</DisableFastUpToDateCheck>` in Test.csproj
  - Status: ✅ Abgeschlossen
  - Datum: 29.12.2025

### Session 2025-01-29
- [x] **CA1848 in .editorconfig und .sln.DotSettings**
  - Empfohlen: CA1848 Warnung (LoggerMessage.Define()) supprimieren
  - Grund: Performance-Analyzer zu aggressiv für infrequente Log-Messages
  - Umgesetzt: Beide Dateien aktualisiert mit Dokumentation
  - Status: ✅ Abgeschlossen
  - Datum: 29.01.2025

- [x] **NUnit1032 in .sln.DotSettings**
  - Empfohlen: NUnit1032 Warnung (async test return type) supprimieren
  - Grund: False positive - async Task ist best practice für NUnit Tests
  - Umgesetzt: .sln.DotSettings aktualisiert mit Dokumentation
  - Status: ✅ Abgeschlossen
  - Datum: 29.01.2025

- [x] **.copilot-todos.md erstellt**
  - Empfohlen: Zentrale TODO-Liste für Cross-Session Tracking
  - Grund: Vermeidung von wiederholten Empfehlungen über Sessions hinweg
  - Umgesetzt: Datei erstellt mit Struktur und Anleitung
  - Status: ✅ Abgeschlossen
  - Datum: 29.01.2025

- [x] **Converter Cleanup: Dead Code entfernt**
  - Empfohlen: NotNullConverter & NullConverter löschen (nicht verwendet)
  - Grund: Dead Code - keine XAML-Bindings, nur in App.xaml registriert
  - Umgesetzt: 
    - NotNullConverter.cs gelöscht
    - NullConverter.cs gelöscht
    - NullableConverter.cs erstellt (Replacement mit Parameter-Support)
    - App.xaml aktualisiert (Registrierungen entfernt/hinzugefügt)
  - Status: ✅ Abgeschlossen (Build erfolgreich)
  - Datum: 29.01.2025

### Session 2025-01-31
- [x] **ImportAnyRailPureTopologyAsync vervollständigt**
  - Empfohlen: Implementiere unvollständige ImportAnyRailPureTopologyAsync-Methode
  - Problem: foreach-Body war leer, Statements waren außerhalb der Schleife, DetectConnections() wurde nicht aufgerufen
  - Umgesetzt:
    - TrackSegment-Erstellung im foreach-Body: `Id = part.Id, ArticleCode = articleCode, Endpoints = []`
    - DetectConnections-Aufruf nach dem Part-Import
    - Korrekte Ordnung: Parts → Connections → Metadaten → RenderLayout()
  - Status: ✅ Abgeschlossen
  - Datum: 31.01.2025

- [x] **XAML-Struktur in TrackPlanEditorPage korrigiert (Bonus-Fix)**
  - Empfohlen: (nicht erforderlich, aber blockierte Build)
  - Problem: TransformGroup-Nesting fehlerhaft, StackPanel außerhalb Grid, TrackCanvas-Name fehlte
  - Umgesetzt:
    - TransformGroup korrekt genestelt
    - Zoom-Controls StackPanel als Grid-Child positioniert
    - Canvas x:Name="TrackCanvas" hinzugefügt für Code-Behind-Referenzen
    - PointerMoved + PointerReleased Handler-Bindungen hinzugefügt
  - Status: ✅ Abgeschlossen
  - Datum: 31.01.2025

- [x] **Domain-Based WorldTransform: Pure Topology Renderer**
  - Empfohlen: WorldTransform in Domain (TrackSegment) statt ViewModel
  - Grund: ViewModels sollten keine Koordinaten speichern - reine Topologie-First-Architektur
  - Umgesetzt:
    - Transform2D von SharedUI/Geometry → Domain/Geometry verschoben
    - TrackSegment.WorldTransform hinzugefügt (runtime-only, [JsonIgnore])
    - TopologyRenderer erstellt (pure domain renderer, keine ViewModels)
    - TrackSegmentViewModel.WorldTransform als Proxy zu Model.WorldTransform
    - ConstraintSolver mit Rigid/Rotational/Parametric Constraint-Logik
    - DetectConnections helper in TrackPlanEditorViewModel (ersetzt ConnectorMatcher)
    - Gelöscht: ConnectorMatcher.cs, SnapCandidate.cs, TrackLayoutRenderer.cs, TopologyRenderer.cs (alt), TrackLayoutRendererTests.cs
  - Status: ✅ Abgeschlossen (Build erfolgreich)
  - Datum: 31.01.2025

## Noch offen ⏳

(Keine offenen Aufgaben)

## Abgelehnt ❌

(Keine abgelehnten Aufgaben)

---

## Anleitung

### Wenn ich dir etwas empfehle:
1. Ich werde KLIPP UND KLAR fragen: **"Soll ich das umsetzen?"**
2. Du antwortest: **"Ja"** oder **"Nein"**
3. Wenn Ja: Ich setze es um UND trage es in diese Liste als "Noch offen ⏳"
4. Wenn Nein: Ich trage es hier unter "Abgelehnt ❌" mit Grund ein

### Nach der Umsetzung:
- Ich verschiebe es in "Umgesetzt ✅" mit Datum
- Du kannst überprüfen, ob es wirklich fertig ist

### Für mehrere Sessions:
- **Zeige mir diese Datei zu Anfang jeder Session**
- Dann kann ich sehen, was noch offen ist
- Ich kann nicht auf alte Sessions zugreifen, aber diese Datei ist die "Brücke" zwischen Sessions
